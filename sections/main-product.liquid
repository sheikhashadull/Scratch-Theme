{% liquid
    assign current_variant = product.selected_or_first_available_variant
    assign featured_media = current_variant.featured_media | default: product.featured_media

%}
<section class="product-section">
  <div class="page-width">
    <div class="product-wraper">
        <div class="product-left">
            <div class="main-image">
                <img src="{{ featured_media | image_url }}" alt="" width="auto" height="auto" id="productimage">
            </div>
            <div class="thumbs">
                {% for image in product.images %}
                    <img src="{{ image | image_url }}" alt="" width="auto" height="auto"
                        onclick="document.getElementById('productimage').src=this.src"
                    >
                {% endfor %}
            </div>
        </div>
        <div class="product-right">
            <h1>{{ product.title }}</h1>

            <div class="price">
                <span class="sale-price">{{ product.price | money }}</span>
                <span class="regular-price">{{ product.compare_at_price | money }}</span>
            </div>
            <p class="description"> {{ product.description }}</p>

            {% if product.variants.size > 1 %}
                <select class="variant-select">
                    {% for variant in product.variants %}
                        <option value="{{ variant.id }}">
                            {{ variant.title }}
                        </option>
                    {% endfor %}
                </select>
            {% endif %}

            <div class="product-form">
                {% form 'product', product %}
                    <input type="hidden" name="id" value="{{ current_variant.id }}">
                    <input type="number" name="quantity" id="quantity" min="1" max="10" value="1">
                    <input type="submit" value="Add to Cart">
                    {{ form | payment_button }}
                {% endform %}
            </div>
        </div>
    </div>
  </div>
</section>

<style>
    /* Base */
.product-section {
  padding: 60px 0;
}

.product-wraper {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 40px;
  align-items: flex-start;
}

/* LEFT SIDE */
.product-left .main-image {
  background: #f6f6f6;
  padding: 20px;
}

.product-left .main-image img {
  width: 100%;
  height: auto;
  display: block;
}

.product-left .thumbs {
  display: flex;
  gap: 10px;
  margin-top: 15px;
}

.product-left .thumbs img {
  width: 70px;
  height: 70px;
  object-fit: cover;
  background: #f6f6f6;
  padding: 5px;
  cursor: pointer;
  border: 1px solid #e5e5e5;
  transition: border-color 0.2s ease;
}

.product-left .thumbs img:hover {
  border-color: #111;
}

/* RIGHT SIDE */
.product-right h1 {
  font-size: 28px;
  margin-bottom: 15px;
}

.price {
  display: flex;
  gap: 12px;
  align-items: center;
  margin-bottom: 20px;
}

.sale-price {
  font-size: 22px;
  font-weight: 600;
  color: #111;
}

.regular-price {
  font-size: 16px;
  color: #888;
  text-decoration: line-through;
}

.description {
  margin-bottom: 25px;
  color: #555;
  line-height: 1.6;
}

/* Variant */
.variant-select {
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  margin-bottom: 20px;
}

/* Product form */
.product-form input[type="number"] {
  width: 80px;
  padding: 10px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
}

.product-form input[type="submit"] {
  width: 100%;
  padding: 14px;
  background: #111;
  color: #fff;
  border: none;
  cursor: pointer;
  font-size: 16px;
}

/* Responsive */
@media (max-width: 768px) {
  .product-wraper {
    grid-template-columns: 1fr;
  }
}

</style>



{% schema %}
{
    "name": "All Products",
    "disabled_on": {"groups": ["header", "footer"]},
    "settings": [
        {
            "type": "text",
            "id": "featured-title",
            "label": "Title",
            "default": "Featured Collections"
        },
        {
            "type": "collection_list",
            "id": "collection_list",
            "label": "Featured Collections",
        },
        {
            "type": "range",
            "id": "featured-paddingx",
            "label": "Footer Padding",
            "min": 10,
            "max": 120,
            "default": 10,
            "step": 10,
            "unit": "px"
        },
    ],
    "presets": [
        {
            "name": "All Products"
        }
    ]
}
{% endschema %}